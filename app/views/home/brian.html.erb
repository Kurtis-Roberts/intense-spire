<% info = get_stats("too") %>
<% character_races = {0 => "Titan", 1 => "Hunter", 2 => "Warlock"} %>
<% stuff = {"testing" => "abc", "hello_there" => "hi!"} %>




<div class="container" style="width: 85%">


        <ul class="collapsible popout" data-collapsible="expandable">
            <% info.each_with_index do |character, index| %>
                <li>
                  <div class="collapsible-header"><i class="material-icons">filter_drama</i>First</div>
                  <div class="collapsible-body">
                        <div class="row">
                                <div class="col s6">
                                    <h4>Kill by Weapon Types</h4>
                                    <div class='<%="chart-container#{index + 1}" %>' data-chart-data="<%= character.to_json %>"></div>
                                    <div><canvas id='<%= "weapon-breakdown-chart#{index + 1}" %>' style="max-width: 500px !important; max-height: 500px !important"></canvas></div>                    
                                </div>
                                <div class="col s6">
                                        <div>
                                            <h4>Player Ability Stats</h4>
                                            <div><canvas id='<%= "ability-chart-breakdown#{index + 1}" %>' style="max-width: 500px !important; max-height: 500px !important"></canvas></div>        
                                        </div>
                                    </div>
                            </div>
                    </div>
                </li>

                <% end %>
              </ul>
                    



        <%= react_component 'AdminPanel', { chartData: info }  %>
        <%= react_component 'Hello' %>
        <%= react_component 'TestingClass' %>
        <%= react_component 'Navigation' %>






    <%= react_component 'Testing', { firstName: current_user.display_name } %>
    <div id="testing"></div>
    
    <h2 class="tooltip" title="This is my span's tooltip message!">Tooltip test</h2>
    <span class="tooltip" data-tooltip-content="#tooltip_content">This span has a tooltip with HTML when you hover over it!</span>
    
    <div class="tooltip_templates">
        <span id="tooltip_content">
            <table>
                <th>One</th>
                <th>Two</th>
                <th>Three</th>
                <tr>
                   <td>test</td>
                   <td>test</td>
                   <td>test</td>
                </tr>
            </table>
        </span>
    </div>
    
    </div>
    


    <div class="row">
        <div class="col s1"></div>
        <div class="col s6">
            <ul class="collapsible" data-collapsible="accordion" style="max-width: 170%; width: 337px;">
                <% info.each do |x| %>
                <% case x["Character Items"]["Subclass"]["Item Name"] 
                    when "Nightstalker", "Voidwalker", "Defender" %>
                        <% subclass =  "height: 20px; position: relative; bottom: 20px; background-image: url(#{image_path "void.png"}); background-size: cover;background-position-y: -50px;" %>
                        <% text_color =  "color: #f5f5f5; font-size: 14px; text-shadow: none;" %>
                    <% when "Sunsinger", "Gunslinger", "Sunbreaker" %>
                        <% subclass =  "height: 20px; position: relative; bottom: 20px;background-image: url(#{image_path "solar.png"}); background-size: cover;background-position-y: -50px;" %>
                        <% text_color =  "color: #3a3a3a; font-size: 14px;" %>
                    <% when "Bladedancer", "Striker", "Stormcaller" %>
                        <% subclass =  "height: 20px; position: relative; bottom: 20px; background-image: url(#{image_path "arc.png"}); background-size: cover;background-position-y: -50px;" %>
                        <% text_color =  "color: #3a3a3a; font-size: 14px;" %>
                <% end %>
                <li>
                    <div class="collapsible-header" style="height: 104px;">
                        <% bg = "background-image: url(#{x['Character Items']['Emblem Background']});" %>
                        <div class="post-header" style='<%= "#{bg} height: 100%; margin: -5.1%; height: 83px;" %>'>                            
                            <div class="row" style="overflow: hidden; max-height: 65px; ">
                                <div class="col s3 left-align" style="padding: 0; height: 65px;">
                                    <%= image_tag x["Character Items"]["Emblem"]["Item Icon"], style:"max-width: calc(100% - 2.6em); min-width: 65px; position: relative; right: 3%; height: auto;" %>
                                </div>
                                <div class="col s6 center-align" style="height: 65px; color: white;"><span style="font-size: 1.5em; text-overflow: ellipsis; color: #f5f5f5; position: relative; top: 25%; font-weight: 400;" ><%= current_user.display_name %></span></div>
                                <div class="col s3 center-align" style="height: 65px; color: white;">
                                    <span style="color: gold; position: relative; top: 10%; line-height: 2.5em; font-weight: 300; font-size: 0.9em;">âœ¦ <%= x["Character Stats"]["Light Level"] %> </span>
                                    <span style="font-weight: 300; font-size: 0.9em;"><%= character_races[x["Character Type"]] %></span>
                                </div>
                            </div>
                            <div class="post-subheader" style="position: relative;height: 18px;bottom: 20px;">
                                <div class="container">
                                    <div class="row">
                                        <div class="col s4 left-align" style="white-space: nowrap;">
                                            <% if x["Character Stats"]["ELO"]["ELO"].to_i >= 1700 %>
                                                <% elo = "<span class='tooltip' data-tooltip-content='#diamond_elo_content' style='color:#7198B7;'> <b>#{x['Character Stats']['ELO']['ELO']}</b></span> " %>
                                            <% elsif x["Character Stats"]["ELO"]["ELO"].to_i < 1700 && x["Character Stats"]["ELO"]["ELO"].to_i >= 1500 %>
                                                <% elo = "<span class='tooltip' data-tooltip-content='#platinum_elo_content' style='color:#58907E;'> <b>#{x['Character Stats']['ELO']['ELO']}</b></span> " %>
                                            <% elsif x["Character Stats"]["ELO"]["ELO"].to_i < 1500 && x["Character Stats"]["ELO"]["ELO"].to_i >= 1300 %>
                                                <% elo = "<span class='tooltip' data-tooltip-content='#gold_elo_content' style='color:#CCAE50;'> <b>#{x['Character Stats']['ELO']['ELO']}</b></span> " %>
                                            <% elsif x["Character Stats"]["ELO"]["ELO"].to_i < 1300 && x["Character Stats"]["ELO"]["ELO"].to_i >= 1200 %>
                                                <% elo = "<span class='tooltip' data-tooltip-content='#silver_elo_content'  style='color:#BFC4C2;'> <b>#{x['Character Stats']['ELO']['ELO']}</b></span> " %>
                                            <% elsif x["Character Stats"]["ELO"]["ELO"].to_i < 1200 %>
                                                <% elo = "<span class='tooltip' data-tooltip-content='#bronze_elo_content' style='color:#AA885F;'> <b>#{x['Character Stats']['ELO']['ELO']}</b></span> " %>
                                            <% end %>                                                    
                                            <span class="white-text" style="font-size: 11px; vertical-align: text-top;">ELO: <%= elo.html_safe %></span>
                                        </div>
                                        <div class="col s4 center-align" style="white-space: nowrap;">
                                            <span class="white-text" style="font-size: 11px; vertical-align: text-top;">KD: <%= x["Character Stats"]["K/D Ratio"] %></span>
                                        </div>
                                        <div class="col s4 right-align" style="white-space: nowrap;">
                                            <span class="white-text" style="font-size: 11px; vertical-align: text-top;">W/L: <%= x["Character Stats"]["Win Rate"] %>%</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="post-subclass-header" style='<%= subclass %>' ></div>
                        </div>
                    </div>

                    <div class="collapsible-body"><span>Lorem ipsum dolor sit amet.</span></div>
                </li>
                <% end %>
            </ul>
        </div>
        <div class="col s5"></div>
    </div>






<code>
    <pre><%= JSON.pretty_generate(info) %></pre>    
</code>